# 1762èƒ½çœ‹åˆ°æµ·æ™¯çš„å»ºç­‘ç‰©
<p>æœ‰ <code>n</code> åº§å»ºç­‘ç‰©ã€‚ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>heights</code> è¡¨ç¤ºæ¯ä¸€ä¸ªå»ºç­‘ç‰©çš„é«˜åº¦ã€‚</p>

<p>å»ºç­‘ç‰©çš„å³è¾¹æ˜¯æµ·æ´‹ã€‚å¦‚æœå»ºç­‘ç‰©å¯ä»¥æ— éšœç¢åœ°çœ‹åˆ°æµ·æ´‹ï¼Œåˆ™å»ºç­‘ç‰©èƒ½çœ‹åˆ°æµ·æ™¯ã€‚ç¡®åˆ‡åœ°è¯´ï¼Œå¦‚æœä¸€åº§å»ºç­‘ç‰©å³è¾¹çš„æ‰€æœ‰å»ºç­‘éƒ½æ¯”å®ƒ <strong>çŸ®</strong> æ—¶ï¼Œå°±è®¤ä¸ºå®ƒèƒ½çœ‹åˆ°æµ·æ™¯ã€‚</p>

<p>è¿”å›èƒ½çœ‹åˆ°æµ·æ™¯å»ºç­‘ç‰©çš„ä¸‹æ ‡åˆ—è¡¨ï¼ˆä¸‹æ ‡ <strong>ä» <code>0</code> å¼€å§‹</strong> ï¼‰ï¼Œå¹¶æŒ‰å‡åºæ’åˆ—ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>heights = [4,2,3,1]
<strong>è¾“å‡ºï¼š</strong>[0,2,3]
<strong>è§£é‡Šï¼š</strong>1 å·å»ºç­‘ç‰©çœ‹ä¸åˆ°æµ·æ™¯ï¼Œå› ä¸º 2 å·å»ºç­‘ç‰©æ¯”å®ƒé«˜
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>heights = [4,3,2,1]
<strong>è¾“å‡ºï¼š</strong>[0,1,2,3]
<strong>è§£é‡Šï¼š</strong>æ‰€æœ‰çš„å»ºç­‘ç‰©éƒ½èƒ½çœ‹åˆ°æµ·æ™¯ã€‚</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>heights = [1,3,2,4]
<strong>è¾“å‡ºï¼š</strong>[3]
<strong>è§£é‡Šï¼š</strong>åªæœ‰ 3 å·å»ºç­‘ç‰©èƒ½çœ‹åˆ°æµ·æ™¯ã€‚</pre>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>heights = [2,2,2,2]
<strong>è¾“å‡ºï¼š</strong>[3]
<strong>è§£é‡Šï¼š</strong>å¦‚æœå»ºç­‘ç‰©å³è¾¹æœ‰ç›¸åŒé«˜åº¦çš„å»ºç­‘ç‰©åˆ™æ— æ³•çœ‹åˆ°æµ·æ™¯ã€‚</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 <= heights.length <= 10<sup>5</sup></code></li>
	<li><code>1 <= heights[i] <= 10<sup>9</sup></code></li>
</ul>
































# è§£é¢˜:
# 1.ä¸€èµ·çœ‹é²¨é±¼ğŸ¦ˆ
### è§£é¢˜æ€è·¯
ä¸€ç¾¤äººæ’é˜Ÿ, 
â‘ . ä½ ä¸ªå­å†é«˜, ä½ å‰é¢ç«™çš„äººåªè¦ä¸æ¯”ä½ çŸ® ä½ è¿˜æ˜¯åªèƒ½çœ‹åˆ°äººå®¶åè„‘å‹º/åèƒŒ. æ€»ä¹‹çœ‹ä¸åˆ°å‰é¢çš„æ™¯è‰². 
â‘¡. ä½ ä¸ªå­å†çŸ®, åªè¦ä½ ç«™åœ¨æœ€å‰å¤´, ä½ å°±ä»€ä¹ˆéƒ½èƒ½çœ‹è§. 

å›åˆ°è¿™é“é¢˜, æˆ‘ä»¬å°±å¯ä»¥æƒ³è±¡ä¸€ä¸‹. 
æ¯ä¸ªäººé¢æœå¤§æµ·ç«™ç€, æ—¢é¢æœå³ä¾§æ’é˜Ÿ. 
"é˜Ÿå¤´"å°±æ˜¯æœ€é è¿‘æµ·çš„é‚£æ ‹æ¥¼. åœ¨æœ¬é¢˜ä¹Ÿå°±æ˜¯ `heights`ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ . 
"é˜Ÿå°¾"å°±æ˜¯heights[0]. 

ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹å¾€å‰éå†, è®°å½•"å‰é¢æœ€é«˜çš„äººçš„èº«é«˜". å¦‚æœå½“å‰ä¸ªå¤´æ¯”å‰é¢æœ€é«˜è¿˜é«˜, å°±æ”¾åˆ°resé‡Œ. åŒæ—¶æ›´æ–°"å½“å‰æœ€é«˜èº«é«˜". 

![image.png](https://pic.leetcode-cn.com/1645905437-VYQdIu-image.png)

### ä»£ç 

```python3
class Solution:
    def findBuildings(self, heights: List[int]) -> List[int]:
        cur_max_height = -float("INF") # "å½“å‰æœ€é«˜èº«é«˜"
        res = [] # è®°å½•è°èƒ½çœ‹åˆ°å¤§æµ·
        for i in range(len(heights) - 1, -1, -1): 
            if heights[i] > cur_max_height: 
                res.append(i)
                cur_max_height = heights[i]
        return res[::-1]
```
# 2.C å•è°ƒæ ˆ æ³¨æ„è¾¹ç•Œ
### è§£é¢˜æ€è·¯
æ­¤å¤„æ’°å†™è§£é¢˜æ€è·¯

### ä»£ç 

```c
/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* findBuildings(int* heights, int heightsSize, int* returnSize){
    int stack[heightsSize + 1];
    int top = -1;
    int i;
    int cnt = 0;
    for (i = 0; i < heightsSize; i++) {
        /* åˆ¤æ–­é—¨é™å‡ºæ ˆ */
        while (top > -1 && heights[stack[top]] <= heights[i]) {   /* æ ˆä¸­å­˜å‚¨çš„æ˜¯é€’å‡çš„ */
            top--;
        }
        stack[++top] = i;  // ç´¢å¼•å…¥æ ˆ
    }
    if (top != -1) {
        int *ans = (int *)malloc(sizeof(int) * (top + 1));
        memcpy(ans, &stack[0], sizeof(int) *(top + 1));
        *returnSize = top + 1;
        return ans;
    }
    #if 0
    for (i = 0; i <= top; i++) {
        printf("%d -> ", stack[i]);
    }
    #endif
    *returnSize = 0;
    return NULL;
}
```
# 3.1762. èƒ½çœ‹åˆ°æµ·æ™¯çš„å»ºç­‘ç‰©[ä¸éœ€è¦å•è°ƒæ ˆ]
### è§£é¢˜æ€è·¯
![image.png](https://pic.leetcode-cn.com/1630336557-YQTzoK-image.png)
è™½ç„¶æœ¬é¢˜æ˜¾ç„¶æ˜¯æ„é€ ä¸€ä¸ªå•è°ƒé€’å¢æ ˆï¼Œå…¥æ ˆåå°±æ˜¯å°±æ˜¯æœ€åçš„ç»“æœ
ä½†æ˜¯ç”¨å•è°ƒæ ˆå°±ä¼šç‰ºç‰²æ‰å¾ˆå¤šç©ºé—´ã€‚æˆ‘ä»¬ä»å³åˆ°å·¦éå†ï¼Œåªåˆ©ç”¨tmpä¿å­˜å½“å‰çš„æœ€å¤§é«˜åº¦ï¼Œå¯ä»¥èŠ‚çœç©ºé—´ã€‚


### ä»£ç 

```python
class Solution(object):
    def findBuildings(self, h):
        n = len(h)
        ans = [n-1]
        tmp = h[n-1]
        for i in range(n-2,-1,-1):
            if h[i] > tmp:
                ans.append(i)
                tmp = h[i]
        return ans[::-1]
                
```
# 4.éå†
### è§£é¢˜æ€è·¯
æ­¤å¤„æ’°å†™è§£é¢˜æ€è·¯

### ä»£ç 

```golang
func findBuildings(heights []int) []int {
    n:=len(heights)
    m:=heights[n-1]
    ans:=[]int{n-1}
    for i:=n-2;i>=0;i--{
        if heights[i]>m{
            m = heights[i]
            ans = append(ans, i)
        }
    }
    an:=len(ans)
    for i:=0;i<an/2;i++{
        ans[i],ans[an-i-1]=ans[an-i-1],ans[i]
    }
    return ans
}
```
